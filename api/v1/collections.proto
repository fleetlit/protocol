syntax = "proto3";

package api.v1;

option go_package = "github.com/fleetlit/fleetlit/pkg/genproto/api/v1;apipb";

import "api/shared/error.proto";

message CreateCollectionRequest {
  string name = 1;
  string display_name = 2;
  string team_id = 3;
  string type = 4;
  string app_id = 5;
  string description = 6;
}

message CreateCollectionResponse {
  api.shared.APIError error = 1;
}

message ListCollectionsRequest {
  string team_id = 1;
  string app_id = 2;
}

message ListCollectionsResponse {
  api.shared.APIError error = 1;
  repeated Collection collections = 2;
}

message Collection {
  string id = 1;
  string name = 2;
  string display_name = 3;
  string team_id = 4;
  string type = 5;
  string app_id = 6;
  int64  created_at = 7;
  int64 updated_at = 8;
  string description = 9;
}

message AddResourceFileRequest {
  string collection_id = 1;
  string file_id = 2;
}

message AddResourceFileResponse {
  api.shared.APIError error = 1;
}

message ListResourcesRequest {
  string collection_id = 1;
}

message ListResourcesResponse {
  api.shared.APIError error = 1;
  repeated Resource resources = 2;
}

message Resource {
  string id = 1;
  string collection_id = 2;
  string type = 3;
  string title = 4;
  ResourceFile file = 5;
  string content = 6;
}

message ResourceFile {
  string id = 1;
  string file = 2;
  string filetype = 3;
  string exposed_url = 4;
  string presigned_url = 5;
}

message RemoveResourceRequest {
  string id = 1;
}

message RemoveResourceResponse {
  api.shared.APIError error = 1;
}